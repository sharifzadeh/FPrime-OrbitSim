// ======================================================================
// \title  ByteStreamBufferAdapterComponentAc.hpp
// \author Generated by fpp-to-cpp
// \brief  hpp file for ByteStreamBufferAdapter component base class
// ======================================================================

#ifndef Drv_ByteStreamBufferAdapterComponentAc_HPP
#define Drv_ByteStreamBufferAdapterComponentAc_HPP

#include "Drv/ByteStreamDriverModel/ByteStreamDataPortAc.hpp"
#include "Drv/ByteStreamDriverModel/ByteStreamReadyPortAc.hpp"
#include "Drv/ByteStreamDriverModel/ByteStreamSendPortAc.hpp"
#include "Fw/Buffer/BufferSendPortAc.hpp"
#include "Fw/Comp/ActiveComponentBase.hpp"
#include "Fw/FPrimeBasicTypes.hpp"
#include "Fw/Port/InputSerializePort.hpp"
#include "Fw/Port/OutputSerializePort.hpp"

namespace Drv {

  //! \class ByteStreamBufferAdapterComponentBase
  //! \brief Auto-generated base for ByteStreamBufferAdapter component
  //!
  //! A passive component for mediating between the ByteStreamDriver
  //! interface and the PassiveBufferDriver interface
  //!
  //! Sample topology:
  //!
  //! -------------------------------------------------
  //!                                                |
  //!  ByteStreamDriver <--> ByteStreamBufferAdapter | <--> PassiveBufferDriverClient
  //!                                                |
  //! -------------------------------------------------
  //!
  //! The two components in the box function together as a PassiveBufferDriver:
  //!
  //! -------------------------------------------------
  //!                                                |
  //!              PassiveBufferDriver               | <--> PassiveBufferDriverClient
  //!                                                |
  //! -------------------------------------------------
  class ByteStreamBufferAdapterComponentBase :
    public Fw::PassiveComponentBase
  {

      // ----------------------------------------------------------------------
      // Friend classes
      // ----------------------------------------------------------------------

      //! Friend class tester to support autocoded test harness
      friend class ByteStreamBufferAdapterTesterBase;
      //! Friend class tester implementation to support white-box testing
      friend class ByteStreamBufferAdapterTester;

    protected:

      // ----------------------------------------------------------------------
      // Constants
      // ----------------------------------------------------------------------

      //! Enumerations for numbers of typed input ports
      enum {
        NUM_BUFFERIN_INPUT_PORTS = 1,
        NUM_BUFFEROUTRETURN_INPUT_PORTS = 1,
        NUM_BYTESTREAMDRIVERREADY_INPUT_PORTS = 1,
        NUM_FROMBYTESTREAMDRIVER_INPUT_PORTS = 1,
      };

      //! Enumerations for numbers of typed output ports
      enum {
        NUM_BUFFERINRETURN_OUTPUT_PORTS = 1,
        NUM_BUFFEROUT_OUTPUT_PORTS = 1,
        NUM_FROMBYTESTREAMDRIVERRETURN_OUTPUT_PORTS = 1,
        NUM_TOBYTESTREAMDRIVER_OUTPUT_PORTS = 1,
      };

    public:

      // ----------------------------------------------------------------------
      // Component initialization
      // ----------------------------------------------------------------------

      //! Initialize ByteStreamBufferAdapterComponentBase object
      void init(
          FwEnumStoreType instance = 0 //!< The instance number
      );

    public:

      // ----------------------------------------------------------------------
      // Getters for typed input ports
      // ----------------------------------------------------------------------

      //! Get typed input port at index
      //!
      //! \return bufferIn[portNum]
      Fw::InputBufferSendPort* get_bufferIn_InputPort(
          FwIndexType portNum //!< The port number
      );

      //! Get typed input port at index
      //!
      //! \return bufferOutReturn[portNum]
      Fw::InputBufferSendPort* get_bufferOutReturn_InputPort(
          FwIndexType portNum //!< The port number
      );

      //! Get typed input port at index
      //!
      //! \return byteStreamDriverReady[portNum]
      Drv::InputByteStreamReadyPort* get_byteStreamDriverReady_InputPort(
          FwIndexType portNum //!< The port number
      );

      //! Get typed input port at index
      //!
      //! \return fromByteStreamDriver[portNum]
      Drv::InputByteStreamDataPort* get_fromByteStreamDriver_InputPort(
          FwIndexType portNum //!< The port number
      );

    public:

      // ----------------------------------------------------------------------
      // Connect typed input ports to typed output ports
      // ----------------------------------------------------------------------

      //! Connect port to bufferInReturn[portNum]
      void set_bufferInReturn_OutputPort(
          FwIndexType portNum, //!< The port number
          Fw::InputBufferSendPort* port //!< The input port
      );

      //! Connect port to bufferOut[portNum]
      void set_bufferOut_OutputPort(
          FwIndexType portNum, //!< The port number
          Fw::InputBufferSendPort* port //!< The input port
      );

      //! Connect port to fromByteStreamDriverReturn[portNum]
      void set_fromByteStreamDriverReturn_OutputPort(
          FwIndexType portNum, //!< The port number
          Fw::InputBufferSendPort* port //!< The input port
      );

      //! Connect port to toByteStreamDriver[portNum]
      void set_toByteStreamDriver_OutputPort(
          FwIndexType portNum, //!< The port number
          Drv::InputByteStreamSendPort* port //!< The input port
      );

#if FW_PORT_SERIALIZATION

    public:

      // ----------------------------------------------------------------------
      // Connect serial input ports to typed output ports
      // ----------------------------------------------------------------------

      //! Connect port to bufferInReturn[portNum]
      void set_bufferInReturn_OutputPort(
          FwIndexType portNum, //!< The port number
          Fw::InputSerializePort* port //!< The port
      );

      //! Connect port to bufferOut[portNum]
      void set_bufferOut_OutputPort(
          FwIndexType portNum, //!< The port number
          Fw::InputSerializePort* port //!< The port
      );

      //! Connect port to fromByteStreamDriverReturn[portNum]
      void set_fromByteStreamDriverReturn_OutputPort(
          FwIndexType portNum, //!< The port number
          Fw::InputSerializePort* port //!< The port
      );

#endif

    protected:

      // ----------------------------------------------------------------------
      // Component construction and destruction
      // ----------------------------------------------------------------------

      //! Construct ByteStreamBufferAdapterComponentBase object
      ByteStreamBufferAdapterComponentBase(
          const char* compName = "" //!< The component name
      );

      //! Destroy ByteStreamBufferAdapterComponentBase object
      virtual ~ByteStreamBufferAdapterComponentBase();

    protected:

      // ----------------------------------------------------------------------
      // Getters for numbers of typed input ports
      // ----------------------------------------------------------------------

      //! Get the number of bufferIn input ports
      //!
      //! \return The number of bufferIn input ports
      static constexpr FwIndexType getNum_bufferIn_InputPorts() {
        return NUM_BUFFERIN_INPUT_PORTS;
      }

      //! Get the number of bufferOutReturn input ports
      //!
      //! \return The number of bufferOutReturn input ports
      static constexpr FwIndexType getNum_bufferOutReturn_InputPorts() {
        return NUM_BUFFEROUTRETURN_INPUT_PORTS;
      }

      //! Get the number of byteStreamDriverReady input ports
      //!
      //! \return The number of byteStreamDriverReady input ports
      static constexpr FwIndexType getNum_byteStreamDriverReady_InputPorts() {
        return NUM_BYTESTREAMDRIVERREADY_INPUT_PORTS;
      }

      //! Get the number of fromByteStreamDriver input ports
      //!
      //! \return The number of fromByteStreamDriver input ports
      static constexpr FwIndexType getNum_fromByteStreamDriver_InputPorts() {
        return NUM_FROMBYTESTREAMDRIVER_INPUT_PORTS;
      }

    protected:

      // ----------------------------------------------------------------------
      // Getters for numbers of typed output ports
      // ----------------------------------------------------------------------

      //! Get the number of bufferInReturn output ports
      //!
      //! \return The number of bufferInReturn output ports
      static constexpr FwIndexType getNum_bufferInReturn_OutputPorts() {
        return NUM_BUFFERINRETURN_OUTPUT_PORTS;
      }

      //! Get the number of bufferOut output ports
      //!
      //! \return The number of bufferOut output ports
      static constexpr FwIndexType getNum_bufferOut_OutputPorts() {
        return NUM_BUFFEROUT_OUTPUT_PORTS;
      }

      //! Get the number of fromByteStreamDriverReturn output ports
      //!
      //! \return The number of fromByteStreamDriverReturn output ports
      static constexpr FwIndexType getNum_fromByteStreamDriverReturn_OutputPorts() {
        return NUM_FROMBYTESTREAMDRIVERRETURN_OUTPUT_PORTS;
      }

      //! Get the number of toByteStreamDriver output ports
      //!
      //! \return The number of toByteStreamDriver output ports
      static constexpr FwIndexType getNum_toByteStreamDriver_OutputPorts() {
        return NUM_TOBYTESTREAMDRIVER_OUTPUT_PORTS;
      }

    protected:

      // ----------------------------------------------------------------------
      // Connection status queries for typed output ports
      // ----------------------------------------------------------------------

      //! Check whether port bufferInReturn is connected
      //!
      //! \return Whether port bufferInReturn is connected
      bool isConnected_bufferInReturn_OutputPort(
          FwIndexType portNum //!< The port number
      );

      //! Check whether port bufferOut is connected
      //!
      //! \return Whether port bufferOut is connected
      bool isConnected_bufferOut_OutputPort(
          FwIndexType portNum //!< The port number
      );

      //! Check whether port fromByteStreamDriverReturn is connected
      //!
      //! \return Whether port fromByteStreamDriverReturn is connected
      bool isConnected_fromByteStreamDriverReturn_OutputPort(
          FwIndexType portNum //!< The port number
      );

      //! Check whether port toByteStreamDriver is connected
      //!
      //! \return Whether port toByteStreamDriver is connected
      bool isConnected_toByteStreamDriver_OutputPort(
          FwIndexType portNum //!< The port number
      );

    protected:

      // ----------------------------------------------------------------------
      // Handlers to implement for typed input ports
      // ----------------------------------------------------------------------

      //! Handler for input port bufferIn
      virtual void bufferIn_handler(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      ) = 0;

      //! Handler for input port bufferOutReturn
      virtual void bufferOutReturn_handler(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      ) = 0;

      //! Handler for input port byteStreamDriverReady
      virtual void byteStreamDriverReady_handler(
          FwIndexType portNum //!< The port number
      ) = 0;

      //! Handler for input port fromByteStreamDriver
      virtual void fromByteStreamDriver_handler(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& buffer,
          const Drv::ByteStreamStatus& status
      ) = 0;

    protected:

      // ----------------------------------------------------------------------
      // Port handler base-class functions for typed input ports
      //
      // Call these functions directly to bypass the corresponding ports
      // ----------------------------------------------------------------------

      //! Handler base-class function for input port bufferIn
      void bufferIn_handlerBase(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      );

      //! Handler base-class function for input port bufferOutReturn
      void bufferOutReturn_handlerBase(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      );

      //! Handler base-class function for input port byteStreamDriverReady
      void byteStreamDriverReady_handlerBase(
          FwIndexType portNum //!< The port number
      );

      //! Handler base-class function for input port fromByteStreamDriver
      void fromByteStreamDriver_handlerBase(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& buffer,
          const Drv::ByteStreamStatus& status
      );

    protected:

      // ----------------------------------------------------------------------
      // Invocation functions for typed output ports
      // ----------------------------------------------------------------------

      //! Invoke output port bufferInReturn
      void bufferInReturn_out(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      );

      //! Invoke output port bufferOut
      void bufferOut_out(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      );

      //! Invoke output port fromByteStreamDriverReturn
      void fromByteStreamDriverReturn_out(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      );

      //! Invoke output port toByteStreamDriver
      Drv::ByteStreamStatus toByteStreamDriver_out(
          FwIndexType portNum, //!< The port number
          Fw::Buffer& sendBuffer //!< Data to send
      );

    private:

      // ----------------------------------------------------------------------
      // Calls for messages received on typed input ports
      // ----------------------------------------------------------------------

      //! Callback for port bufferIn
      static void m_p_bufferIn_in(
          Fw::PassiveComponentBase* callComp, //!< The component instance
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      );

      //! Callback for port bufferOutReturn
      static void m_p_bufferOutReturn_in(
          Fw::PassiveComponentBase* callComp, //!< The component instance
          FwIndexType portNum, //!< The port number
          Fw::Buffer& fwBuffer //!< The buffer
      );

      //! Callback for port byteStreamDriverReady
      static void m_p_byteStreamDriverReady_in(
          Fw::PassiveComponentBase* callComp, //!< The component instance
          FwIndexType portNum //!< The port number
      );

      //! Callback for port fromByteStreamDriver
      static void m_p_fromByteStreamDriver_in(
          Fw::PassiveComponentBase* callComp, //!< The component instance
          FwIndexType portNum, //!< The port number
          Fw::Buffer& buffer,
          const Drv::ByteStreamStatus& status
      );

    private:

      // ----------------------------------------------------------------------
      // Typed input ports
      // ----------------------------------------------------------------------

      //! Input port bufferIn
      Fw::InputBufferSendPort m_bufferIn_InputPort[NUM_BUFFERIN_INPUT_PORTS];

      //! Input port bufferOutReturn
      Fw::InputBufferSendPort m_bufferOutReturn_InputPort[NUM_BUFFEROUTRETURN_INPUT_PORTS];

      //! Input port byteStreamDriverReady
      Drv::InputByteStreamReadyPort m_byteStreamDriverReady_InputPort[NUM_BYTESTREAMDRIVERREADY_INPUT_PORTS];

      //! Input port fromByteStreamDriver
      Drv::InputByteStreamDataPort m_fromByteStreamDriver_InputPort[NUM_FROMBYTESTREAMDRIVER_INPUT_PORTS];

    private:

      // ----------------------------------------------------------------------
      // Typed output ports
      // ----------------------------------------------------------------------

      //! Output port bufferInReturn
      Fw::OutputBufferSendPort m_bufferInReturn_OutputPort[NUM_BUFFERINRETURN_OUTPUT_PORTS];

      //! Output port bufferOut
      Fw::OutputBufferSendPort m_bufferOut_OutputPort[NUM_BUFFEROUT_OUTPUT_PORTS];

      //! Output port fromByteStreamDriverReturn
      Fw::OutputBufferSendPort m_fromByteStreamDriverReturn_OutputPort[NUM_FROMBYTESTREAMDRIVERRETURN_OUTPUT_PORTS];

      //! Output port toByteStreamDriver
      Drv::OutputByteStreamSendPort m_toByteStreamDriver_OutputPort[NUM_TOBYTESTREAMDRIVER_OUTPUT_PORTS];

  };

}

#endif
